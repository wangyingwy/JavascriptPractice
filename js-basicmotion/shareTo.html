<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>“分享到”侧边栏效果</title>
    <style>
        *{margin: 0; padding: 0;}
        #div1{width: 150px; height: 200px; background-color: #ff0000; position: absolute; left: -150px; top: 200px;}
        #div1 span{width: 20px; height: 60px; line-height: 20px; background-color: #008000; position: absolute; right: -20px; top: 70px;}
    </style>
    <script>
        window.onload = function() {
            var oDiv = document.getElementById("div1");

            oDiv.onmouseover = function() {
                startMove(0);
            };

            oDiv.onmouseout = function() {
                startMove(-150);
            };
        };

        var timer = null;

        /*function startMove() {
            var oDiv = document.getElementById("div1");

            clearInterval(timer);

            timer = setInterval(function() {
                if(oDiv.offsetLeft == 0) {
                    clearInterval(timer);
                }
                else {
                    oDiv.style.left = oDiv.offsetLeft+10+'px';
                };
            }, 30);
        };*/

        /*function startMove2() {
            var oDiv = document.getElementById("div1");

            clearInterval(timer);

            timer = setInterval(function() {
                if(oDiv.offsetLeft == -150) {
                    clearInterval(timer);
                }
                else {
                    oDiv.style.left = oDiv.offsetLeft-10+'px';
                };
            }, 30);
        };*/

        function startMove(iTarget) {
            var oDiv = document.getElementById("div1");

            clearInterval(timer);

            var speed = 0;
            if(oDiv.offsetLeft>iTarget) {
                speed = -10;
            }
            else {
                speed = 10;
            };

            timer = setInterval(function() {
                if(oDiv.offsetLeft == iTarget) {
                    clearInterval(timer);
                }
                else {
                    oDiv.style.left = oDiv.offsetLeft+speed+'px';
                };
            }, 30);
        };
    </script>
</head>
<body>
<div id="div1">
    <span>分享到</span>
</div>
</body>
</html>